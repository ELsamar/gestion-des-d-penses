<form  #ModeleDepenseForm="ngForm" >
  <input type="hidden" name="$idModele" #$idModele  ngModel [(ngModel)]="currentModeleDepense.$iddepense">
  <input type="hidden" name="iduser" #iduser  ngModel [(ngModel)]="currentModeleDepense.idauth">
  <div class="container-fluid">
    <div class=" content row">
      <div class="card">
        <div class="container-fluid">
          <div class="form-group">
            <label class="col-form-label">Titre:</label>
            <input type="text" class="form-control" name="titreModele" #titreModele="ngModel" [(ngModel)]="currentModeleDepense.titreModele" required minlength="4">

            <div *ngIf ="titreModele.errors && (titreModele.dirty|| titreModele.touched)" class ="alert alert-danger"  >
              <div [hidden] = "!titreModele.errors.required">
                <strong>Error:</strong>Ce champs est obligatoire
              </div>
              <div [hidden] = "!titreModele.errors.minlength">
                <strong>Error:</strong>Ce champs est trés cours
              </div>
            </div>

            <div class="form-group">
              <label class="col-form-label">Montant :</label>
              <div class="input-group">
                <input type="text" class="form-control" placeholder="0000.0000" name="montantModele" #montantModele="ngModel" [(ngModel)]="currentModeleDepense.montantModele" pattern= "\d*" required>
                <div class="input-group-prepend">
                  <div class="input-group-text">TND</div>
                </div>
                <div *ngIf ="montantModele.errors && (montantModele.dirty|| montantModele.touched)" class ="alert alert-danger"  >
                  <div [hidden] = "!montantModele.errors.required">
                    <strong>Error:</strong>Ce champs est obligatoire
                  </div>
                  <div [hidden] = "!montantModele.errors.pattern">
                    <strong>Error:</strong>le montant doit étre nombre
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="col-form-label">Date :</label>
              <input type="date" class="form-control" name="dateModele" #dateModele="ngModel" [(ngModel)]="currentModeleDepense.dateModele" pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))" required  />
              <div *ngIf ="dateModele.errors && (dateModele.dirty|| dateModele.touched)" class ="alert alert-danger"  >
                <div [hidden] = "!datedepense.errors.required">
                  <strong>Error:</strong>Ce champs est obligatoire
                </div>
                <div [hidden] = "!dateModele.errors.pattern">
                  <strong>Error:</strong>Veuillez inserrez une date correcte
                </div>
              </div>
            </div>

            <div class="form-group">
              <label  class="col-form-label">Cathegorie :</label>
              <select class="custom-select form-group mr-sm-2" name="cathegorieModele" #cathegorieModele="ngModel" [(ngModel)]="currentModeleDepense.cathegorieModele">
                <option *ngFor = "let cathegorie of cathegories" [value]="cathegorie">{{cathegorie}}</option>
              </select>
            </div>
            <div class="form-group">
              <label class="col-form-label">Description: </label>
              <input class="form-control" name="descriptionModele" #descriptionModele="ngModel" [(ngModel)]="currentModeleDepense.descriptionModele"/>
            </div>

            <div class="row">
              <div class="col-1 content-center">
                <button type="submit" class="" [disabled]="(!ModeleDepenseForm.valid)" (click)="saveModeleDepense()">
                  ajouter</button>
              </div>
              <div class="col-1 content-center">
                <button type="reset" class="btn btn-secondary bouton">annuler</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
